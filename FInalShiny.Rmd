---
title: "Pokemon Tournament Analysis"
author: "Jackson Marsh and Mario Rodriguez"
date: "2024-12-11"
output: html_document
runtime: shiny
---

```{r}
library(tidyverse)
library(readr)
```

```{r}
national_dex <- read_csv("Data/national_dex.csv")
tournament_results <- read_csv("Data/tournament_results.csv")
TypeChart <- read_csv("~/TypeChart.csv")
```


```{r}
tournament_results <- tournament_results %>%
  mutate(pokemon = str_extract(pokemon, "\\d\\d(\\d)?(\\d)?"), 
         pokemon = parse_number(pokemon))
```

```{r}
tournament_results$pokemon <- as.character(tournament_results$pokemon)
national_dex$pokemon <- as.character(national_dex$pokemon)
```


```{r}
fulldata <- tournament_results %>%
  left_join(national_dex)
```

```{r eruptions, echo=FALSE}
inputPanel(
  selectInput("stat", label = "Key Statistic:",
              choices = c("hp", "attack", "defense", "sp_atk", "sp_def", "speed"), selected = "hp")
)

renderPlot({
fulldata %>%
  group_by(player) %>%
  mutate(sum = sum(input$stat)) %>%
  slice_head() %>%
  select(player, sum) %>%
  ggplot(aes(x = player, y = sum)) + 
  geom_col() + 
  geom_hline(yintercept = mean(input$stat) * 6, color = "red") + 
  theme(axis.text.x = element_text(angle = 45, hjust = 1))  
})
```

```{r}

```

